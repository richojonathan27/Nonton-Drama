<script>
  async function bukaPlayer(idDrama) {
    // Menampilkan loading
    document.getElementById('status-api').innerText = "Sedang mengambil link VIP...";
    
    try {
      // Memanggil API buatan kita di folder /api/get-video.js
      const response = await fetch(`/api/get-video?bookId=${idDrama}`);
      const data = await response.json();
      
      if (data.videoUrl) {
        const video = document.getElementById('video-player');
        video.src = data.videoUrl;
        video.play();
        document.getElementById('status-api').style.display = "none";
      }
    } catch (error) {
      alert("Gagal memutar video.");
    }
  }
</script>
